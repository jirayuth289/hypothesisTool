<div class="padding-user">

    <!-- Loading Icon (Bootstrap) -->
    <div class="jumbotron text-center" ng-show="management.loading">
        <span class="glyphicon glyphicon-repeat spinner"></span>
        <p>Loading....</p>
    </div>
    <!-- Loading Icon (Bootstrap) -->

    <!-- Input For Filter  -->
    <div class="showmore">
        <div class="col-md-2">
            <div class="input-group">
                <span class="input-group-addon">แสดงผลลัพธ์:</span>
                <!--<input type="text" class="form-control" ng-model="number">-->
                <select class="form-control" ng-model="management.numberResults.selectedOption" ng-options="option for option in management.numberResults.options" ng-change="management.showMore(management.numberResults.selectedOption)"></select>
            </div>
        </div>
        <button type="button" ng-click="management.showAll();" class="btn btn-warning">แสดงทั้งหมด</button>
    </div>
    <!-- Input For Filter  -->

    <!-- Custom Error Message -->
    <div style="margin-top:10px" class="row show-hide-message" ng-show="management.showMoreError">
        <div class="alert alert-danger">{{ management.showMoreError }}</div>
    </div>
    <!-- Custom Error Message -->

    <br>
    <br>

    <!-- User Management Table -->
    <div class="panel panel-primary">
        <!-- Heading -->
        <div class="panel-heading">
            <strong>ข้อมูลผู้ใช้งาน</strong>
        </div>
        <table class="table">
            <tr>
                <th>ชื่อ</th>
                <th>รหัสผู้ใช้งาน</th>
                <th>อีเมล</th>
            </tr>
            <tr ng-repeat="person in management.users | limitTo: management.limit">
                <td>{{ person.name }}</td>
                <td>{{ person.username }}</td>
                <td>{{ person.email }}</td>
                <td>
                    <a href="/edit/{{ person._id }}">
                        <button type="button" ng-show="management.editAccess" class="btn btn-primary">แก้ไข</button>
                    </a>
					  <a href="#" data-toggle="modal" ng-click="management.username = person.username" data-target="#modal_delete"> <button type="button"  ng-show="management.deleteAccess" class="btn btn-danger">ลบ</button></a>
                </td>
            </tr>
        </table>
    </div>
    <!-- User Management Table -->

    <!-- Input For Filter  -->
    <div class="showmore">
        <div class="col-md-2">
            <div class="input-group">
                <span class="input-group-addon">แสดงผลลัพธ์:</span>
                <!--<input type="text" class="form-control" ng-model="number">-->
                <select class="form-control" ng-model="management.numberResults.selectedOption" ng-options="option for option in management.numberResults.options" ng-change="management.showMore(management.numberResults.selectedOption)"></select>
            </div>
        </div>
        <button type="button" ng-click="management.showAll();" class="btn btn-warning">แสดงทั้งหมด</button>
    </div>

    <!-- Custom Error Message -->
    <div class="row show-hide-message" ng-show="management.showMoreError">
        <div class="alert alert-danger">{{ management.showMoreError }}</div>
    </div>
    <!-- Custom Error Message -->
</div>
    <!-- Modal -->
    <div class="modal" id="modal_delete" role="dialog">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">ลบข้อมูลผู้ใช้งาน</h4>
                </div>
                <div class="modal-body">
                    <p>คุณแน่ใจหรือไม่ที่จะลบข้อมูลนี้</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-sm btn-default" data-dismiss="modal">ยกเลิก</button>
                    <button ng-click="management.deleteUser(management.username);" data-dismiss="modal" type="button" class="btn btn-sm btn-danger">ตกลง</button>
                </div>
            </div>
        </div>
    </div>